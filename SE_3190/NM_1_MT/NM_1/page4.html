<!--
  Page 4 - ISU Campus Explorer
  Author: Ash Bhuiyan
  COM S 3190 - Fall 2025 Midterm Project
-->

<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Carver Hall – ISU Campus Explorer</title>

    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/css/bootstrap.min.css" rel="stylesheet" />
    <link href="assets/theme.css" rel="stylesheet" />

    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #f8f9fa;
        }

        /* Top gallery */
        .gallery {
            display: flex;
            overflow-x: auto;
            gap: 15px;
            padding: 1rem;
            scroll-snap-type: x mandatory;
            justify-content: center;
        }

        .gallery figure {
            position: relative;
            margin: 0;
            scroll-snap-align: center;
        }

        .gallery img {
            height: 230px;
            border-radius: 12px;
            box-shadow: 0 3px 8px rgba(0, 0, 0, 0.2);
            transition: transform 0.2s ease, box-shadow 0.2s ease;
        }

        .gallery img:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 14px rgba(0, 0, 0, 0.3);
        }

        .gallery figcaption {
            position: absolute;
            bottom: 10px;
            right: 12px;
            background: rgba(0, 0, 0, 0.6);
            color: #fff;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-style: italic;
        }

        /* Main image */
        .main-photo {
            width: 85%;
            max-height: 700px;
            border-radius: 14px;
            box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25);
            object-fit: cover;
        }

        /* Photo credit overlay */
        .photo-credit {
            position: absolute;
            bottom: 10px;
            right: 20px;
            background: rgba(0, 0, 0, 0.6);
            color: #fff;
            padding: 6px 10px;
            border-radius: 6px;
            font-size: 0.8rem;
            font-style: italic;
        }

        .photo-credit a {
            color: #aad4ff;
            text-decoration: none;
        }

        .photo-credit a:hover {
            text-decoration: underline;
        }

        /* Carver floor gallery */
        .floor-gallery {
            text-align: center;
        }

        .floor-gallery .floor-item {
            display: inline-block;
            margin: 0 12px;
            text-align: center;
            scroll-snap-align: center;
            cursor: pointer;
        }

        /* Uniform thumbnail sizing so the strip looks neat */
        .floor-gallery img {
            width: 260px;
            height: 340px;
            object-fit: contain;
            border-radius: 10px;
            box-shadow: 0 2px 6px rgba(0, 0, 0, 0.25);
            transition: transform 0.25s ease, box-shadow 0.25s ease;
            background-color: white;
        }

        .floor-gallery img:hover {
            transform: scale(1.05);
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.35);
        }

        .highlight-floor {
            outline: 4px solid #007bff;
            outline-offset: 3px;
        }

        /* Reveal panel for the selected floor */
        #floorDisplay {
            display: none;
            opacity: 0;
            transition: opacity 0.6s ease;
        }

        #floorDisplay.visible {
            display: block;
            opacity: 1;
        }
    </style>
</head>

<body>
    <!-- Navbar -->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow-sm">
        <div class="container">
            <a class="navbar-brand fw-semibold" href="index.html">ISU Campus Explorer</a>
            <button class="navbar-toggler" data-bs-toggle="collapse" data-bs-target="#nav"><span
                    class="navbar-toggler-icon"></span></button>
            <div id="nav" class="collapse navbar-collapse">
                <ul class="navbar-nav ms-auto">
                    <li class="nav-item"><a class="nav-link" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="page2.html">Map</a></li>
                    <li class="nav-item"><a class="nav-link" href="page3.html">Library</a></li>
                    <li class="nav-item"><a class="nav-link active" href="page4.html">Carver</a></li>
                    <li class="nav-item"><a class="nav-link" href="authors.html">Authors</a></li>
                    <li class="nav-item"><a class="nav-link" href="faq.html">FAQ</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Top Gallery -->
    <section class="bg-white border-bottom">
        <div class="container py-4 text-center">
            <h2 class="fw-bold mb-3">Carver Hall</h2>
            <p class="text-muted mb-0">Named after George Washington Carver – The Hub for Mathematics and Statistics at
                ISU.</p>

            <div class="gallery mt-4">
                <figure>
                    <img src="assets/images/carver2.jpeg" alt="Carver Hall Front View">
                    <figcaption>Carver Hall Sign</figcaption>
                </figure>
                <figure>
                    <img src="assets/images/carver0101.jpg" alt="Room 0101">
                    <figcaption>Room 0101</figcaption>
                </figure>
            </div>
        </div>
    </section>

    <!-- main middle photo -->
    <section class="text-center bg-light py-4 border-bottom">
        <div class="position-relative d-inline-block">
            <img src="assets/images/Carverhall.jpg" alt="Carver Hall Inside" class="main-photo">
            <div class="photo-credit">
                Carver Hall<br>
                Inspired by Class Activity 02
            </div>
        </div>
    </section>

    <!-- Room Input -->
    <section class="bg-white py-3 border-bottom">
        <div class="container text-center">
            <div class="row justify-content-center">
                <div class="col-md-2">
                    <input id="roomInput" type="text" class="form-control text-center" placeholder="Room #">
                </div>
                <div class="col-md-1">
                    <button class="btn btn-primary w-100" onclick="showCarverInfo()">Go</button>
                </div>
            </div>
        </div>
    </section>

    <!-- Floors Section -->
    <main class="py-5 text-center">
        <div class="container">

            <h5 class="fw-semibold mb-4">Select a Level to see the Floor Map</h5>
            <div class="d-flex justify-content-center flex-wrap gap-3">
                <button class="btn btn-outline-primary px-4" onclick="displayLevel('ground')">Lower Level</button>
                <button class="btn btn-outline-primary px-4" onclick="displayLevel('level1')">Level 1</button>
                <button class="btn btn-outline-primary px-4" onclick="displayLevel('level2')">Level 2</button>
                <button class="btn btn-outline-primary px-4" onclick="displayLevel('level3')">Level 3</button>
                <button class="btn btn-outline-primary px-4" onclick="displayLevel('level4')">Level 4</button>
            </div>

            <!-- Reveal panel (hidden until a level/room is selected) -->
            <div id="floorDisplay" class="mt-4">
                <div id="carverInfo" class="text-muted"></div>
                <div class="mt-4">
                    <img id="floorImage" class="img-fluid rounded shadow-sm" style="max-width:80%;"
                        alt="Carver floor map">
                </div>
            </div>



            <div class="mt-5">
                <a href="page2.html" class="btn btn-secondary">← Back to Map</a>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="site-footer text-center py-4 mt-5">
        <div class="container small">Team NM_1 — Mekhi &amp; Ash</div>
    </footer>

    <!-- Script -->
    <script>
        // Descriptions for Carver floors (short + useful)
        const carverDescriptions = {
            ground: "Ground Floor (0001–0099): Main lecture hall 0001 and surrounding corridors; emergency exits as posted.",
            level1: "Level 1 (0100–0199): First-floor classrooms and central atrium.",
            level2: "Level 2 (0200–0299): Second-floor classrooms around the balcony ring.",
            level3: "Level 3 (0300–0399): Third-floor classrooms and offices along the perimeter.",
            level4: "Level 4 (0400–0499): Fourth-floor classrooms, labs, and offices."
        };

        const carverImages = {
            ground: "assets/images/Carver0F.png",
            level1: "assets/images/Carver1F.png",
            level2: "assets/images/Carver2F.png",
            level3: "assets/images/Carver3F.png",
            level4: "assets/images/Carver4F.png"
        };

        // Existing input handler now routes to the same display logic
        function showCarverInfo() {
            const room = document.getElementById("roomInput").value.trim();
            if (!room || isNaN(parseInt(room))) {
                alert("Please enter a valid room number (e.g., 0101)");
                return;
            }
            const key = levelKeyFromRoom(room);
            displayLevel(key);
        }

        // Map numeric room to a level key
        function levelKeyFromRoom(room) {
            const n = parseInt(room, 10);
            if (n < 100) return "ground";
            if (n < 200) return "level1";
            if (n < 300) return "level2";
            if (n < 400) return "level3";
            if (n < 500) return "level4";
            return null;
        }

        // Unified display (used by buttons, thumbnails, and room input)
        function displayLevel(levelKey) {
            if (!carverImages[levelKey]) {
                alert("Room not found in Carver Hall.");
                return;
            }

            const floorDisplay = document.getElementById("floorDisplay");
            const info = document.getElementById("carverInfo");
            const floorImage = document.getElementById("floorImage");

            // Reset any highlight on thumbnails
            document.querySelectorAll(".floor-gallery img").forEach(img => img.classList.remove("highlight-floor"));

            // Friendly title for header
            const title = levelKey === "ground" ? "Ground Floor" : levelKey.replace("level", "Level ");

            // Update info & image
            info.innerHTML =
                `<h4 class="fw-semibold text-primary">${title}</h4>
         <p class="mt-2">${carverDescriptions[levelKey]}</p>`;

            floorImage.src = carverImages[levelKey];

            // Reveal panel
            floorDisplay.classList.add("visible");

            // Highlight the selected thumbnail if present
            const thumb = document.getElementById(`img-${levelKey}`);
            if (thumb) thumb.classList.add("highlight-floor");

            // Smooth scroll to the revealed section
            floorDisplay.scrollIntoView({ behavior: "smooth", block: "center" });
        }
    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.8/dist/js/bootstrap.bundle.min.js"></script>
</body>

</html>